<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open FFBoard: SPIButtons.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_blue_128.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open FFBoard
   </div>
   <div id="projectbrief">Open source force feedback firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_s_p_i_buttons_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">SPIButtons.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="_s_p_i_buttons_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * ButtonSourceSPI.cpp</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> *  Created on: 11.02.2020</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> *      Author: Yannick</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> */</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="constants_8h.html">constants.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;<a class="code" href="_s_p_i_buttons_8h.html">SPIButtons.h</a>&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="eeprom__addresses_8h.html">eeprom_addresses.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="keyword">static</span> <a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a> <a class="code hl_function" href="_s_p_i_buttons_8cpp.html#a9fa3945a0dbce41ff83a49064dee08d9">decodeIntToConf</a>(uint16_t config, uint16_t config_int_2);</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="keyword">static</span> std::tuple&lt;uint16_t, uint16_t&gt; <a class="code hl_function" href="_s_p_i_buttons_8cpp.html#aba7b4e25cf0f787f1f1d27fca7797a56">encodeConfToInt</a>(<a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a>* c);</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="keyword">const</span> std::vector&lt;std::string&gt; <a class="code hl_variable" href="class_s_p_i___buttons.html#aa0ba490beb122728be9141c9bef9bb01">SPI_Buttons::mode_names</a> = {<span class="stringliteral">&quot;Thrustmaster/HEF4021BT&quot;</span>,<span class="stringliteral">&quot;74xx165&quot;</span>};</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="keyword">const</span> std::vector&lt;std::string&gt; <a class="code hl_variable" href="class_s_p_i___buttons.html#a2098748e99ef2f9a4943eb9c7f63dde4">SPI_Buttons::speed_names</a> = {<span class="stringliteral">&quot;Fast&quot;</span>,<span class="stringliteral">&quot;Medium&quot;</span>,<span class="stringliteral">&quot;Slow&quot;</span>};</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><a class="code hl_struct" href="struct_class_identifier.html">ClassIdentifier</a> <a class="code hl_variable" href="class_s_p_i___buttons__1.html#a7e1a57c1e80a48f03f5ecd2682421798">SPI_Buttons_1::info</a> = {</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>         .<a class="code hl_variable" href="struct_class_identifier.html#a18a69ed3b7a10bfc83c083b318f77209">name</a> = <span class="stringliteral">&quot;SPI Buttons 1&quot;</span> ,</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>         .id=CLSID_BTN_SPI,</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> };</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons__1.html#a1d77e78816660bb2ce7d91b729faba7a">   25</a></span><span class="keyword">const</span> <a class="code hl_struct" href="struct_class_identifier.html">ClassIdentifier</a> <a class="code hl_function" href="class_s_p_i___buttons__1.html#a1d77e78816660bb2ce7d91b729faba7a">SPI_Buttons_1::getInfo</a>(){</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_s_p_i___buttons__1.html#a7e1a57c1e80a48f03f5ecd2682421798">info</a>;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>}</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons__1.html#a21c329083865f6d937ec89afb68aa751">   29</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_s_p_i___buttons__1.html#a21c329083865f6d937ec89afb68aa751">SPI_Buttons_1::isCreatable</a>(){</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <span class="keywordflow">return</span> (<a class="code hl_variable" href="cpp__target__config_8h.html#a150538f2cab0ebfcc238375cb19eca68">external_spi</a>.<a class="code hl_function" href="class_s_p_i_port.html#a1109e42c8e5889df7f0e345713279a01">hasFreePins</a>());</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>}</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><a class="code hl_struct" href="struct_class_identifier.html">ClassIdentifier</a> <a class="code hl_variable" href="class_s_p_i___buttons__2.html#a475db72f9512403cdd00336ddea55076">SPI_Buttons_2::info</a> = {</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>         .<a class="code hl_variable" href="struct_class_identifier.html#a18a69ed3b7a10bfc83c083b318f77209">name</a> = <span class="stringliteral">&quot;SPI Buttons 2&quot;</span> ,</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>         .id=CLSID_BTN_SPI,</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> };</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons__2.html#ae51ed498a7d9fe4b417ca10cdb5132c4">   37</a></span><span class="keyword">const</span> <a class="code hl_struct" href="struct_class_identifier.html">ClassIdentifier</a> <a class="code hl_function" href="class_s_p_i___buttons__2.html#ae51ed498a7d9fe4b417ca10cdb5132c4">SPI_Buttons_2::getInfo</a>(){</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_s_p_i___buttons__2.html#a475db72f9512403cdd00336ddea55076">info</a>;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>}</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons__2.html#abe3ab7788de4b8fab7b307234e2d6596">   41</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_s_p_i___buttons__2.html#abe3ab7788de4b8fab7b307234e2d6596">SPI_Buttons_2::isCreatable</a>(){</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="comment">//(external_spi.hasFreePins();</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>}</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">// TODO check if pin is free</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#a5a7d7e0c01efa563e1c79df4d85cfd7e">   47</a></span><a class="code hl_function" href="class_s_p_i___buttons.html#a5a7d7e0c01efa563e1c79df4d85cfd7e">SPI_Buttons::SPI_Buttons</a>(uint16_t configuration_address, uint16_t configuration_address_2)</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    : <a class="code hl_class" href="class_command_handler.html">CommandHandler</a>(<span class="stringliteral">&quot;spibtn&quot;</span>,CLSID_BTN_SPI,0), <a class="code hl_class" href="class_s_p_i_device.html">SPIDevice</a>(<a class="code hl_variable" href="cpp__target__config_8h.html#a150538f2cab0ebfcc238375cb19eca68">external_spi</a>,<a class="code hl_variable" href="cpp__target__config_8h.html#a150538f2cab0ebfcc238375cb19eca68">external_spi</a>.getFreeCsPins()[0]){</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    this-&gt;configuration_address = <a class="code hl_variable" href="class_s_p_i___buttons.html#a54da7710792a2b8e9a4422eb16d19924">configuration_address</a>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    this-&gt;configuration_address_2 = <a class="code hl_variable" href="class_s_p_i___buttons.html#ab20d366e1a73beed86dab7b7f36b8190">configuration_address_2</a>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <a class="code hl_function" href="class_s_p_i___buttons.html#a2b6fe19a8c4e3599d27d7bb19c48bc9e">restoreFlash</a>();</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.BaudRatePrescaler = <a class="code hl_variable" href="class_s_p_i___buttons.html#a793a929f29f6870ef2c6bf734489ed34">speedPresets</a>[this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#a9e8ffb23de4b2d4bdbfc292e54ee4968">spi_speed</a>];</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.FirstBit = SPI_FIRSTBIT_LSB;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.CLKPhase = SPI_PHASE_1EDGE;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.CLKPolarity = SPI_POLARITY_LOW;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <a class="code hl_function" href="class_s_p_i___buttons.html#ab2263cd0b2bedb1abebffb841bb0375a">initSPI</a>();</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <a class="code hl_function" href="class_s_p_i___buttons.html#ad2224c86ee588e5c5fafe26cea399fe6">registerCommands</a>();</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    this-&gt;<a class="code hl_function" href="class_command_handler.html#a45979fba8f86796394ad7e22896fc33f">setCommandsEnabled</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <a class="code hl_variable" href="class_s_p_i___buttons.html#ab704f113763fb43969613c2126c9b6c6">ready</a>  = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>}</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#ab2263cd0b2bedb1abebffb841bb0375a">   68</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_s_p_i___buttons.html#ab2263cd0b2bedb1abebffb841bb0375a">SPI_Buttons::initSPI</a>(){</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <a class="code hl_variable" href="class_s_p_i_device.html#a1e73b78c5520e56b2786132a2537ba20">spiPort</a>.<a class="code hl_function" href="class_s_p_i_port.html#a2f4057e9c8d04aec84bd88c70b78623b">takeSemaphore</a>();</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <a class="code hl_variable" href="class_s_p_i_device.html#a1e73b78c5520e56b2786132a2537ba20">spiPort</a>.<a class="code hl_function" href="class_s_p_i_port.html#abfb00731e34be961162c814837c37531">configurePort</a>(&amp;this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>);</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <a class="code hl_variable" href="class_s_p_i_device.html#a1e73b78c5520e56b2786132a2537ba20">spiPort</a>.<a class="code hl_function" href="class_s_p_i_port.html#ac3feeaf8dffc219625567c0aa0789d3a">giveSemaphore</a>();</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>}</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#a0ed9591c957520ee43805da609de337c">   74</a></span><a class="code hl_function" href="class_s_p_i___buttons.html#a0ed9591c957520ee43805da609de337c">SPI_Buttons::~SPI_Buttons</a>() {</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>}</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#ad2224c86ee588e5c5fafe26cea399fe6">   79</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_s_p_i___buttons.html#ad2224c86ee588e5c5fafe26cea399fe6">SPI_Buttons::registerCommands</a>(){</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <a class="code hl_function" href="class_command_handler.html#a09e6c7b1db8de3631ffbc1e4c1336676">CommandHandler::registerCommands</a>();</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <a class="code hl_function" href="class_command_handler.html#a26d4fbfbb1106d0465716e1968150a7d">registerCommand</a>(<span class="stringliteral">&quot;mode&quot;</span>, <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a15d61712450a686a7f365adf4fef581f">SPIButtons_commands::mode</a>, <span class="stringliteral">&quot;SPI mode&quot;</span>,CMDFLAG_INFOSTRING | CMDFLAG_GET | CMDFLAG_SET);</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <a class="code hl_function" href="class_command_handler.html#a26d4fbfbb1106d0465716e1968150a7d">registerCommand</a>(<span class="stringliteral">&quot;btncut&quot;</span>, <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a114ddfde19eb73d52d91a4a6f4d66adf">SPIButtons_commands::btncut</a>, <span class="stringliteral">&quot;Cut buttons right&quot;</span>,CMDFLAG_GET | CMDFLAG_SET);</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <a class="code hl_function" href="class_command_handler.html#a26d4fbfbb1106d0465716e1968150a7d">registerCommand</a>(<span class="stringliteral">&quot;btnpol&quot;</span>, <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a12083ead688b2c4ad360ff56c0f3122e">SPIButtons_commands::btnpol</a>, <span class="stringliteral">&quot;Invert&quot;</span>,CMDFLAG_GET | CMDFLAG_SET);</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <a class="code hl_function" href="class_command_handler.html#a26d4fbfbb1106d0465716e1968150a7d">registerCommand</a>(<span class="stringliteral">&quot;btnnum&quot;</span>, <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a8f6247b8c4167035329ce85cb34db93f">SPIButtons_commands::btnnum</a>, <span class="stringliteral">&quot;Number of buttons&quot;</span>,CMDFLAG_GET | CMDFLAG_SET);</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <a class="code hl_function" href="class_command_handler.html#a26d4fbfbb1106d0465716e1968150a7d">registerCommand</a>(<span class="stringliteral">&quot;cs&quot;</span>, <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a95cc64dd2825f9df13ec4ad683ecf339">SPIButtons_commands::cs</a>, <span class="stringliteral">&quot;SPI CS pin&quot;</span>,CMDFLAG_GET | CMDFLAG_SET);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <a class="code hl_function" href="class_command_handler.html#a26d4fbfbb1106d0465716e1968150a7d">registerCommand</a>(<span class="stringliteral">&quot;spispeed&quot;</span>, <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0ad26e9a04169ae9ce1cd2393035b764f2">SPIButtons_commands::spispeed</a>, <span class="stringliteral">&quot;SPI speed preset&quot;</span>,CMDFLAG_INFOSTRING | CMDFLAG_GET | CMDFLAG_SET);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>}</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#abb61a708255758691e315e9b81353e7f">   92</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_s_p_i___buttons.html#abb61a708255758691e315e9b81353e7f">SPI_Buttons::setMode</a>(<a class="code hl_enumeration" href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfe">SPI_BtnMode</a> mode){</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#a8f222d06574c71cb2ebae9aa593005e7">mode</a> = mode;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <a class="code hl_function" href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">setConfig</a>(<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>}</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">   97</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">SPI_Buttons::setConfig</a>(<a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a> config){</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    config.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a> = std::min&lt;uint8_t&gt;(this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a8f853d48ebf05c7d3c15968da53f1a33">maxButtons</a>, config.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a>);</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a> = config;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <a class="code hl_variable" href="class_s_p_i_device.html#a1e73b78c5520e56b2786132a2537ba20">spiPort</a>.<a class="code hl_function" href="class_s_p_i_port.html#ac88f07b2b363e23124e5ac37c4c7465c">freeCsPin</a>(this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a4b72b0c97f8586beb28a2b1f1df43fb5">cs</a>);</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <a class="code hl_class" href="class_output_pin.html">OutputPin</a>* newPin = <a class="code hl_variable" href="class_s_p_i_device.html#a1e73b78c5520e56b2786132a2537ba20">spiPort</a>.<a class="code hl_function" href="class_s_p_i_port.html#a9b00f63efcf238d91eb3748c6c378bd0">getCsPin</a>(config.<a class="code hl_variable" href="struct_button_source_config.html#ab20cf085e56d356b8702303bb7507a49">cs_num</a>-1); <span class="comment">// TODO update internal pin number if requested pin is blocked</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="keywordflow">if</span>(newPin != <span class="keyword">nullptr</span>){</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a4b72b0c97f8586beb28a2b1f1df43fb5">cs</a> = *newPin;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    }</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <a class="code hl_variable" href="class_s_p_i_device.html#a1e73b78c5520e56b2786132a2537ba20">spiPort</a>.<a class="code hl_function" href="class_s_p_i_port.html#a366371988c4ac9b1904dd318e1fd6fdf">reserveCsPin</a>(this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a4b72b0c97f8586beb28a2b1f1df43fb5">cs</a>);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// Setup presets</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#a8f222d06574c71cb2ebae9aa593005e7">mode</a> == <a class="code hl_enumvalue" href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfeaac7a4fbd0d788d94f43454817e1c208c">SPI_BtnMode::TM</a>){</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#ab69a228509b6d4fc7550d905cefa311b">cspol</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#ad699998fb08e317cee1e43d6f2a8392d">cutRight</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.CLKPolarity = SPI_POLARITY_LOW;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.CLKPhase = SPI_PHASE_1EDGE;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#a8f222d06574c71cb2ebae9aa593005e7">mode</a> == <a class="code hl_enumvalue" href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfea2fed72f842c8622e5b14a0f24390bcb4">SPI_BtnMode::PISOSR</a>){</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#ab69a228509b6d4fc7550d905cefa311b">cspol</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#ad699998fb08e317cee1e43d6f2a8392d">cutRight</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.CLKPhase = SPI_PHASE_2EDGE;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.CLKPolarity = SPI_POLARITY_HIGH; <span class="comment">// its actually shifting on the rising edge but 165 will have the first output set even before clocking. First clock cycle is actually second bit so we sample at the falling edge and skip the first bit with that.</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    }</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment">//  spiPort.takeSemaphore();</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="comment">//  spiPort.configurePort(&amp;this-&gt;spiConfig.peripheral);</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment">//  spiPort.giveSemaphore();</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <a class="code hl_function" href="class_s_p_i___buttons.html#ab2263cd0b2bedb1abebffb841bb0375a">initSPI</a>();</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordflow">if</span>(config.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a> == 64){ <span class="comment">// Special case</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>            <a class="code hl_variable" href="class_s_p_i___buttons.html#a7b166405a295f20e14a18ac9ea180ee3">mask</a> = 0xffffffffffffffff;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        <a class="code hl_variable" href="class_s_p_i___buttons.html#a7b166405a295f20e14a18ac9ea180ee3">mask</a> = (uint64_t)pow&lt;uint64_t&gt;(2,config.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a>)-(uint64_t)1; <span class="comment">// Must be done completely in 64 bit!</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <a class="code hl_variable" href="class_s_p_i___buttons.html#ad0c723f669d9c82d3923d51e8bfa95ee">offset</a> = 8 - (config.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a> % 8);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// Thrustmaster uses extra bits for IDs</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keywordflow">if</span>(config.<a class="code hl_variable" href="struct_button_source_config.html#a8f222d06574c71cb2ebae9aa593005e7">mode</a> == <a class="code hl_enumvalue" href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfeaac7a4fbd0d788d94f43454817e1c208c">SPI_BtnMode::TM</a>){</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        <a class="code hl_variable" href="class_s_p_i___buttons.html#a15ed17b9962ed432f792e01bdea5ab58">bytes</a> = 1+((config.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a>+2)/8);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <a class="code hl_variable" href="class_s_p_i___buttons.html#a15ed17b9962ed432f792e01bdea5ab58">bytes</a> = 1+((config.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a>-1)/8);</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    }</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    this-&gt;<a class="code hl_variable" href="class_button_source.html#a5fb449625596f8cfa3d60e662cb9ec28">btnnum</a> = config.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>}</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">  142</a></span><a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a>* <a class="code hl_function" href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">SPI_Buttons::getConfig</a>(){</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keywordflow">return</span> &amp;this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>}</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#a1d7dc86d5952613c8d1109f5eb9226f6">  146</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_s_p_i___buttons.html#a1d7dc86d5952613c8d1109f5eb9226f6">SPI_Buttons::setSpiSpeed</a>(uint8_t speedPreset){</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    speedPreset = clip&lt;uint8_t,uint8_t&gt;(speedPreset,0,this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a793a929f29f6870ef2c6bf734489ed34">speedPresets</a>.size());</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#a9e8ffb23de4b2d4bdbfc292e54ee4968">spi_speed</a> = speedPreset;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    this-&gt;<a class="code hl_variable" href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">spiConfig</a>.<a class="code hl_variable" href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">peripheral</a>.BaudRatePrescaler = this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a793a929f29f6870ef2c6bf734489ed34">speedPresets</a>[speedPreset];</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <a class="code hl_function" href="class_s_p_i___buttons.html#ab2263cd0b2bedb1abebffb841bb0375a">initSPI</a>();</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>}</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#aad159b15367d850ec9d33f911cab9a04">  153</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_s_p_i___buttons.html#aad159b15367d850ec9d33f911cab9a04">SPI_Buttons::saveFlash</a>(){</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="keyword">auto</span> [configuration_int, cs_num_int] = <a class="code hl_function" href="_s_p_i_buttons_8cpp.html#aba7b4e25cf0f787f1f1d27fca7797a56">encodeConfToInt</a>(this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">getConfig</a>());</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <a class="code hl_function" href="flash__helpers_8h.html#a6b6e0bc4883e99737cddcaa2594fa5ba">Flash_Write</a>(<a class="code hl_variable" href="class_s_p_i___buttons.html#a54da7710792a2b8e9a4422eb16d19924">configuration_address</a>, configuration_int);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <a class="code hl_function" href="flash__helpers_8h.html#a6b6e0bc4883e99737cddcaa2594fa5ba">Flash_Write</a>(<a class="code hl_variable" href="class_s_p_i___buttons.html#ab20d366e1a73beed86dab7b7f36b8190">configuration_address_2</a>, cs_num_int);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>}</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#a2b6fe19a8c4e3599d27d7bb19c48bc9e">  160</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_s_p_i___buttons.html#a2b6fe19a8c4e3599d27d7bb19c48bc9e">SPI_Buttons::restoreFlash</a>(){</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    uint16_t conf_int = <a class="code hl_function" href="flash__helpers_8h.html#a2bbff9e686544cb0f673cf4e3f948592">Flash_ReadDefault</a>(<a class="code hl_variable" href="class_s_p_i___buttons.html#a54da7710792a2b8e9a4422eb16d19924">configuration_address</a>, 0);</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    uint16_t cs_num_int = <a class="code hl_function" href="flash__helpers_8h.html#a2bbff9e686544cb0f673cf4e3f948592">Flash_ReadDefault</a>(<a class="code hl_variable" href="class_s_p_i___buttons.html#ab20d366e1a73beed86dab7b7f36b8190">configuration_address_2</a>, 1);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <a class="code hl_function" href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">setConfig</a>(<a class="code hl_function" href="_s_p_i_buttons_8cpp.html#a9fa3945a0dbce41ff83a49064dee08d9">decodeIntToConf</a>(conf_int, cs_num_int));</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>}</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#ae84b99b26196f51aafca8a993e109bd4">  167</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_s_p_i___buttons.html#ae84b99b26196f51aafca8a993e109bd4">SPI_Buttons::process</a>(uint64_t* buf){</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="class_s_p_i___buttons.html#ad0c723f669d9c82d3923d51e8bfa95ee">offset</a>){</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        <span class="keywordflow">if</span>(this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#ad699998fb08e317cee1e43d6f2a8392d">cutRight</a>){</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>            *buf = *buf &gt;&gt; <a class="code hl_variable" href="class_s_p_i___buttons.html#ad0c723f669d9c82d3923d51e8bfa95ee">offset</a>;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            *buf = *buf &amp; this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a7b166405a295f20e14a18ac9ea180ee3">mask</a>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#a8efe3c209df2ea819f90a231d8635a3a">invert</a>)</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        *buf = (~*buf);</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    *buf = *buf  &amp; <a class="code hl_variable" href="class_s_p_i___buttons.html#a7b166405a295f20e14a18ac9ea180ee3">mask</a>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>}</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno"><a class="line" href="_s_p_i_buttons_8cpp.html#adaeab78891966518199a2ae170dcfc4b">  180</a></span><a class="code hl_function" href="_s_p_i_buttons_8cpp.html#adaeab78891966518199a2ae170dcfc4b">__attribute__</a>((optimize(<span class="stringliteral">&quot;-Ofast&quot;</span>)))</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>uint8_t <a class="code hl_class" href="class_s_p_i___buttons.html">SPI_Buttons</a>::readButtons(uint64_t* buf){</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_function" href="ringbuffer_8c.html#a312c830a38a9a98c93c96547376d5835">memcpy</a>(buf,this-&gt;spi_buf,std::min&lt;uint8_t&gt;(this-&gt;bytes,8));</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    process(buf); <span class="comment">// give back last buffer</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keywordflow">if</span>(spiPort.isTaken() || !ready)</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <span class="keywordflow">return</span> this-&gt;btnnum;    <span class="comment">// Don&#39;t wait.</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="comment">// CS pin and semaphore managed by spi port</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    spiPort.receive_DMA(spi_buf, bytes, <span class="keyword">this</span>);</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="keywordflow">return</span> this-&gt;btnnum;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>}</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#ad0be4286115c8ea9459eaeaa89a093be">  194</a></span>std::string <a class="code hl_function" href="class_s_p_i___buttons.html#ad0be4286115c8ea9459eaeaa89a093be">SPI_Buttons::printModes</a>(<span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; names){</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    std::string reply;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keywordflow">for</span>(uint8_t i = 0; i&lt;names.size();i++){</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        reply+=  names[i]  + <span class="stringliteral">&quot;:&quot;</span> + std::to_string(i)+<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    }</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordflow">return</span> reply;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>}</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="class_s_p_i___buttons.html#a170614c569dc4b74a6db5c650ca4866e">  202</a></span><a class="code hl_enumeration" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5">CommandStatus</a> <a class="code hl_function" href="class_s_p_i___buttons.html#a170614c569dc4b74a6db5c650ca4866e">SPI_Buttons::command</a>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_parsed_command.html">ParsedCommand</a>&amp; cmd,std::vector&lt;CommandReply&gt;&amp; replies){</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="keywordflow">switch</span>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0">SPIButtons_commands</a><span class="keyword">&gt;</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#aa84671f243e74af9c09290d3c8412b29">cmdId</a>)){</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a8f6247b8c4167035329ce85cb34db93f">SPIButtons_commands::btnnum</a>:</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acdaeeeba9b4a4c5ebf042c0215a7bb0e">CMDtype::set</a>){</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a>* c = this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">getConfig</a>();</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>            c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a> = cmd.<a class="code hl_variable" href="struct_parsed_command.html#a74453a0cc1ccf42709bafd7e69573c83">val</a>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>            this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">setConfig</a>(*c);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41ab5eda0a74558a342cf659187f06f746f">CMDtype::get</a>){</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>            replies.emplace_back(this-&gt;<a class="code hl_function" href="class_button_source.html#a720d1040bb379a0353b2f21c0b8204a1">getBtnNum</a>());</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5acd22bad976363fdd1bfbf6759fede482">CommandStatus::ERR</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        }</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a12083ead688b2c4ad360ff56c0f3122e">SPIButtons_commands::btnpol</a>:</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acdaeeeba9b4a4c5ebf042c0215a7bb0e">CMDtype::set</a>){</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            <a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a>* c = this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">getConfig</a>();</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#a8efe3c209df2ea819f90a231d8635a3a">invert</a> = cmd.<a class="code hl_variable" href="struct_parsed_command.html#a74453a0cc1ccf42709bafd7e69573c83">val</a> != 0;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>            this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">setConfig</a>(*c);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41ab5eda0a74558a342cf659187f06f746f">CMDtype::get</a>){</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>            replies.emplace_back(this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">getConfig</a>()-&gt;<a class="code hl_enumvalue" href="_axis_8h.html#ad3ecb30741dcdb99ec2fc80ca6fff715a20e57f32ba12b9cd13ebe9ef5e32d949">invert</a> ? 1 : 0);</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5acd22bad976363fdd1bfbf6759fede482">CommandStatus::ERR</a>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        }</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a114ddfde19eb73d52d91a4a6f4d66adf">SPIButtons_commands::btncut</a>:</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acdaeeeba9b4a4c5ebf042c0215a7bb0e">CMDtype::set</a>){</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>            <a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a>* c = this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">getConfig</a>();</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>            c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#ad699998fb08e317cee1e43d6f2a8392d">cutRight</a> = cmd.<a class="code hl_variable" href="struct_parsed_command.html#a74453a0cc1ccf42709bafd7e69573c83">val</a> != 0;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>            this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">setConfig</a>(*c);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41ab5eda0a74558a342cf659187f06f746f">CMDtype::get</a>){</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>            replies.emplace_back(this-&gt;<a class="code hl_function" href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">getConfig</a>()-&gt;cutRight ? 1 : 0);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5acd22bad976363fdd1bfbf6759fede482">CommandStatus::ERR</a>;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        }</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a15d61712450a686a7f365adf4fef581f">SPIButtons_commands::mode</a>:</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acdaeeeba9b4a4c5ebf042c0215a7bb0e">CMDtype::set</a>){</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            <a class="code hl_function" href="class_s_p_i___buttons.html#abb61a708255758691e315e9b81353e7f">setMode</a>((<a class="code hl_enumeration" href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfe">SPI_BtnMode</a>)cmd.<a class="code hl_variable" href="struct_parsed_command.html#a74453a0cc1ccf42709bafd7e69573c83">val</a>);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41ab5eda0a74558a342cf659187f06f746f">CMDtype::get</a>){</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            replies.emplace_back((uint8_t)this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#a8f222d06574c71cb2ebae9aa593005e7">mode</a>);</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acaf9b6b99962bf5c2264824231d7a40c">CMDtype::info</a>){</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            replies.emplace_back(<a class="code hl_function" href="class_s_p_i___buttons.html#ad0be4286115c8ea9459eaeaa89a093be">printModes</a>(this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#aa0ba490beb122728be9141c9bef9bb01">mode_names</a>));</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5acd22bad976363fdd1bfbf6759fede482">CommandStatus::ERR</a>;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        }</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0ad26e9a04169ae9ce1cd2393035b764f2">SPIButtons_commands::spispeed</a>:</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acdaeeeba9b4a4c5ebf042c0215a7bb0e">CMDtype::set</a>){</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>            <a class="code hl_function" href="class_s_p_i___buttons.html#a1d7dc86d5952613c8d1109f5eb9226f6">setSpiSpeed</a>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a74453a0cc1ccf42709bafd7e69573c83">val</a>);</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41ab5eda0a74558a342cf659187f06f746f">CMDtype::get</a>){</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            replies.emplace_back((uint8_t)this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#a9e8ffb23de4b2d4bdbfc292e54ee4968">spi_speed</a>);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd.<a class="code hl_variable" href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">type</a> == <a class="code hl_enumvalue" href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acaf9b6b99962bf5c2264824231d7a40c">CMDtype::info</a>){</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>            replies.emplace_back(<a class="code hl_function" href="class_s_p_i___buttons.html#ad0be4286115c8ea9459eaeaa89a093be">printModes</a>(this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a2098748e99ef2f9a4943eb9c7f63dde4">speed_names</a>));</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5acd22bad976363fdd1bfbf6759fede482">CommandStatus::ERR</a>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        }</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a95cc64dd2825f9df13ec4ad683ecf339">SPIButtons_commands::cs</a>:</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="class_command_handler.html#a5deca916348f55b7a6aaffc598d28c0b">handleGetSet</a>(cmd, replies, this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>.<a class="code hl_variable" href="struct_button_source_config.html#ab20cf085e56d356b8702303bb7507a49">cs_num</a>) == <a class="code hl_enumvalue" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5ae0aa021e21dddbd6d8cecec71e9cf564">CommandStatus::OK</a> ) {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <a class="code hl_function" href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">setConfig</a>(this-&gt;<a class="code hl_variable" href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">conf</a>);</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        }</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5a8c02547a8a3b02382bac3557bcb2280d">CommandStatus::NOT_FOUND</a>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5ae0aa021e21dddbd6d8cecec71e9cf564">CommandStatus::OK</a>;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>}</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="_s_p_i_buttons_8cpp.html#a9fa3945a0dbce41ff83a49064dee08d9">  275</a></span><span class="keyword">static</span> <a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a> <a class="code hl_function" href="_s_p_i_buttons_8cpp.html#a9fa3945a0dbce41ff83a49064dee08d9">decodeIntToConf</a>(uint16_t config_int, uint16_t config_int_2){</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a> c;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    c.<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a> = (config_int &amp; 0x3F) + 1;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    c.<a class="code hl_variable" href="struct_button_source_config.html#a8efe3c209df2ea819f90a231d8635a3a">invert</a> = (config_int &gt;&gt; 6) &amp; 0x1;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    c.<a class="code hl_variable" href="struct_button_source_config.html#ad699998fb08e317cee1e43d6f2a8392d">cutRight</a> = (config_int &gt;&gt; 7) &amp; 0x1;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    c.<a class="code hl_variable" href="struct_button_source_config.html#a8f222d06574c71cb2ebae9aa593005e7">mode</a> = <a class="code hl_enumeration" href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfe">SPI_BtnMode</a>(config_int &gt;&gt; 8);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    c.<a class="code hl_variable" href="struct_button_source_config.html#ab20cf085e56d356b8702303bb7507a49">cs_num</a> = (config_int_2 &amp; 0x3);</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    c.<a class="code hl_variable" href="struct_button_source_config.html#a9e8ffb23de4b2d4bdbfc292e54ee4968">spi_speed</a> = (config_int_2 &gt;&gt; 3) &amp; 0x3;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="keywordflow">return</span> c;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>}</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="_s_p_i_buttons_8cpp.html#aba7b4e25cf0f787f1f1d27fca7797a56">  285</a></span><span class="keyword">static</span> std::tuple&lt;uint16_t, uint16_t&gt; <a class="code hl_function" href="_s_p_i_buttons_8cpp.html#aba7b4e25cf0f787f1f1d27fca7797a56">encodeConfToInt</a>(<a class="code hl_struct" href="struct_button_source_config.html">ButtonSourceConfig</a>* c){</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    uint16_t val = (c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">numButtons</a>-1) &amp; 0x3F; <span class="comment">// 1-64</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    val |= c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#a8efe3c209df2ea819f90a231d8635a3a">invert</a> &lt;&lt; 6;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    val |= c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#ad699998fb08e317cee1e43d6f2a8392d">cutRight</a> &lt;&lt; 7;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    val |= (uint16_t)c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#a8f222d06574c71cb2ebae9aa593005e7">mode</a> &lt;&lt; 8;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    uint16_t <a class="code hl_variable" href="_motor_simplemotion_8h.html#af941d1aaa3940413875c0746e338f1d8">val2</a> = c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#ab20cf085e56d356b8702303bb7507a49">cs_num</a> &amp; 0x3;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <a class="code hl_variable" href="_motor_simplemotion_8h.html#af941d1aaa3940413875c0746e338f1d8">val2</a> |= (c-&gt;<a class="code hl_variable" href="struct_button_source_config.html#a9e8ffb23de4b2d4bdbfc292e54ee4968">spi_speed</a> &amp; 0x3) &lt;&lt; 3;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="keywordflow">return</span> { val, <a class="code hl_variable" href="_motor_simplemotion_8h.html#af941d1aaa3940413875c0746e338f1d8">val2</a> };</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>}</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span> </div>
<div class="ttc" id="a_axis_8h_html_ad3ecb30741dcdb99ec2fc80ca6fff715a20e57f32ba12b9cd13ebe9ef5e32d949"><div class="ttname"><a href="_axis_8h.html#ad3ecb30741dcdb99ec2fc80ca6fff715a20e57f32ba12b9cd13ebe9ef5e32d949">Axis_commands::invert</a></div><div class="ttdeci">@ invert</div></div>
<div class="ttc" id="a_command_handler_8h_html_aec46f6cc23a395b611fbc7c7239b9c41ab5eda0a74558a342cf659187f06f746f"><div class="ttname"><a href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41ab5eda0a74558a342cf659187f06f746f">CMDtype::get</a></div><div class="ttdeci">@ get</div></div>
<div class="ttc" id="a_command_handler_8h_html_aec46f6cc23a395b611fbc7c7239b9c41acaf9b6b99962bf5c2264824231d7a40c"><div class="ttname"><a href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acaf9b6b99962bf5c2264824231d7a40c">CMDtype::info</a></div><div class="ttdeci">@ info</div></div>
<div class="ttc" id="a_command_handler_8h_html_aec46f6cc23a395b611fbc7c7239b9c41acdaeeeba9b4a4c5ebf042c0215a7bb0e"><div class="ttname"><a href="_command_handler_8h.html#aec46f6cc23a395b611fbc7c7239b9c41acdaeeeba9b4a4c5ebf042c0215a7bb0e">CMDtype::set</a></div><div class="ttdeci">@ set</div></div>
<div class="ttc" id="a_command_handler_8h_html_aefaf83fec6a7da1d02ae7e912dd9a6d5"><div class="ttname"><a href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5">CommandStatus</a></div><div class="ttdeci">CommandStatus</div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8h_source.html#l00039">CommandHandler.h:39</a></div></div>
<div class="ttc" id="a_command_handler_8h_html_aefaf83fec6a7da1d02ae7e912dd9a6d5a8c02547a8a3b02382bac3557bcb2280d"><div class="ttname"><a href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5a8c02547a8a3b02382bac3557bcb2280d">CommandStatus::NOT_FOUND</a></div><div class="ttdeci">@ NOT_FOUND</div></div>
<div class="ttc" id="a_command_handler_8h_html_aefaf83fec6a7da1d02ae7e912dd9a6d5acd22bad976363fdd1bfbf6759fede482"><div class="ttname"><a href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5acd22bad976363fdd1bfbf6759fede482">CommandStatus::ERR</a></div><div class="ttdeci">@ ERR</div></div>
<div class="ttc" id="a_command_handler_8h_html_aefaf83fec6a7da1d02ae7e912dd9a6d5ae0aa021e21dddbd6d8cecec71e9cf564"><div class="ttname"><a href="_command_handler_8h.html#aefaf83fec6a7da1d02ae7e912dd9a6d5ae0aa021e21dddbd6d8cecec71e9cf564">CommandStatus::OK</a></div><div class="ttdeci">@ OK</div></div>
<div class="ttc" id="a_motor_simplemotion_8h_html_af941d1aaa3940413875c0746e338f1d8"><div class="ttname"><a href="_motor_simplemotion_8h.html#af941d1aaa3940413875c0746e338f1d8">val2</a></div><div class="ttdeci">uint16_t val2</div><div class="ttdef"><b>Definition:</b> <a href="_motor_simplemotion_8h_source.html#l00003">MotorSimplemotion.h:3</a></div></div>
<div class="ttc" id="a_s_p_i_buttons_8cpp_html_a9fa3945a0dbce41ff83a49064dee08d9"><div class="ttname"><a href="_s_p_i_buttons_8cpp.html#a9fa3945a0dbce41ff83a49064dee08d9">decodeIntToConf</a></div><div class="ttdeci">static ButtonSourceConfig decodeIntToConf(uint16_t config, uint16_t config_int_2)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00275">SPIButtons.cpp:275</a></div></div>
<div class="ttc" id="a_s_p_i_buttons_8cpp_html_aba7b4e25cf0f787f1f1d27fca7797a56"><div class="ttname"><a href="_s_p_i_buttons_8cpp.html#aba7b4e25cf0f787f1f1d27fca7797a56">encodeConfToInt</a></div><div class="ttdeci">static std::tuple&lt; uint16_t, uint16_t &gt; encodeConfToInt(ButtonSourceConfig *c)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00285">SPIButtons.cpp:285</a></div></div>
<div class="ttc" id="a_s_p_i_buttons_8cpp_html_adaeab78891966518199a2ae170dcfc4b"><div class="ttname"><a href="_s_p_i_buttons_8cpp.html#adaeab78891966518199a2ae170dcfc4b">__attribute__</a></div><div class="ttdeci">__attribute__((optimize(&quot;-Ofast&quot;))) uint8_t SPI_Buttons</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00180">SPIButtons.cpp:180</a></div></div>
<div class="ttc" id="a_s_p_i_buttons_8h_html"><div class="ttname"><a href="_s_p_i_buttons_8h.html">SPIButtons.h</a></div></div>
<div class="ttc" id="a_s_p_i_buttons_8h_html_a72a1ce4856563d78aa57e8f9a6994cfe"><div class="ttname"><a href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfe">SPI_BtnMode</a></div><div class="ttdeci">SPI_BtnMode</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00022">SPIButtons.h:22</a></div></div>
<div class="ttc" id="a_s_p_i_buttons_8h_html_a72a1ce4856563d78aa57e8f9a6994cfea2fed72f842c8622e5b14a0f24390bcb4"><div class="ttname"><a href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfea2fed72f842c8622e5b14a0f24390bcb4">SPI_BtnMode::PISOSR</a></div><div class="ttdeci">@ PISOSR</div></div>
<div class="ttc" id="a_s_p_i_buttons_8h_html_a72a1ce4856563d78aa57e8f9a6994cfeaac7a4fbd0d788d94f43454817e1c208c"><div class="ttname"><a href="_s_p_i_buttons_8h.html#a72a1ce4856563d78aa57e8f9a6994cfeaac7a4fbd0d788d94f43454817e1c208c">SPI_BtnMode::TM</a></div><div class="ttdeci">@ TM</div></div>
<div class="ttc" id="aclass_button_source_html_a5fb449625596f8cfa3d60e662cb9ec28"><div class="ttname"><a href="class_button_source.html#a5fb449625596f8cfa3d60e662cb9ec28">ButtonSource::btnnum</a></div><div class="ttdeci">uint16_t btnnum</div><div class="ttdef"><b>Definition:</b> <a href="_button_source_8h_source.html#l00038">ButtonSource.h:38</a></div></div>
<div class="ttc" id="aclass_button_source_html_a720d1040bb379a0353b2f21c0b8204a1"><div class="ttname"><a href="class_button_source.html#a720d1040bb379a0353b2f21c0b8204a1">ButtonSource::getBtnNum</a></div><div class="ttdeci">virtual uint16_t getBtnNum()</div><div class="ttdef"><b>Definition:</b> <a href="_button_source_8cpp_source.html#l00026">ButtonSource.cpp:26</a></div></div>
<div class="ttc" id="aclass_command_handler_html"><div class="ttname"><a href="class_command_handler.html">CommandHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8h_source.html#l00128">CommandHandler.h:128</a></div></div>
<div class="ttc" id="aclass_command_handler_html_a09e6c7b1db8de3631ffbc1e4c1336676"><div class="ttname"><a href="class_command_handler.html#a09e6c7b1db8de3631ffbc1e4c1336676">CommandHandler::registerCommands</a></div><div class="ttdeci">void registerCommands()</div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8cpp_source.html#l00174">CommandHandler.cpp:174</a></div></div>
<div class="ttc" id="aclass_command_handler_html_a26d4fbfbb1106d0465716e1968150a7d"><div class="ttname"><a href="class_command_handler.html#a26d4fbfbb1106d0465716e1968150a7d">CommandHandler::registerCommand</a></div><div class="ttdeci">void registerCommand(const char *cmd, const ID cmdid, const char *help=nullptr, uint32_t flags=0)</div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8h_source.html#l00262">CommandHandler.h:262</a></div></div>
<div class="ttc" id="aclass_command_handler_html_a45979fba8f86796394ad7e22896fc33f"><div class="ttname"><a href="class_command_handler.html#a45979fba8f86796394ad7e22896fc33f">CommandHandler::setCommandsEnabled</a></div><div class="ttdeci">virtual void setCommandsEnabled(bool enable)</div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8cpp_source.html#l00271">CommandHandler.cpp:271</a></div></div>
<div class="ttc" id="aclass_command_handler_html_a5deca916348f55b7a6aaffc598d28c0b"><div class="ttname"><a href="class_command_handler.html#a5deca916348f55b7a6aaffc598d28c0b">CommandHandler::handleGetSet</a></div><div class="ttdeci">static CommandStatus handleGetSet(const ParsedCommand &amp;cmd, std::vector&lt; CommandReply &gt; &amp;replies, TVal &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8h_source.html#l00201">CommandHandler.h:201</a></div></div>
<div class="ttc" id="aclass_output_pin_html"><div class="ttname"><a href="class_output_pin.html">OutputPin</a></div><div class="ttdef"><b>Definition:</b> <a href="_g_p_i_o_pin_8h_source.html#l00032">GPIOPin.h:32</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons__1_html_a1d77e78816660bb2ce7d91b729faba7a"><div class="ttname"><a href="class_s_p_i___buttons__1.html#a1d77e78816660bb2ce7d91b729faba7a">SPI_Buttons_1::getInfo</a></div><div class="ttdeci">const ClassIdentifier getInfo() override</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00025">SPIButtons.cpp:25</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons__1_html_a21c329083865f6d937ec89afb68aa751"><div class="ttname"><a href="class_s_p_i___buttons__1.html#a21c329083865f6d937ec89afb68aa751">SPI_Buttons_1::isCreatable</a></div><div class="ttdeci">static bool isCreatable()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00029">SPIButtons.cpp:29</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons__1_html_a7e1a57c1e80a48f03f5ecd2682421798"><div class="ttname"><a href="class_s_p_i___buttons__1.html#a7e1a57c1e80a48f03f5ecd2682421798">SPI_Buttons_1::info</a></div><div class="ttdeci">static ClassIdentifier info</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00094">SPIButtons.h:94</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons__2_html_a475db72f9512403cdd00336ddea55076"><div class="ttname"><a href="class_s_p_i___buttons__2.html#a475db72f9512403cdd00336ddea55076">SPI_Buttons_2::info</a></div><div class="ttdeci">static ClassIdentifier info</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00107">SPIButtons.h:107</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons__2_html_abe3ab7788de4b8fab7b307234e2d6596"><div class="ttname"><a href="class_s_p_i___buttons__2.html#abe3ab7788de4b8fab7b307234e2d6596">SPI_Buttons_2::isCreatable</a></div><div class="ttdeci">static bool isCreatable()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00041">SPIButtons.cpp:41</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons__2_html_ae51ed498a7d9fe4b417ca10cdb5132c4"><div class="ttname"><a href="class_s_p_i___buttons__2.html#ae51ed498a7d9fe4b417ca10cdb5132c4">SPI_Buttons_2::getInfo</a></div><div class="ttdeci">const ClassIdentifier getInfo() override</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00037">SPIButtons.cpp:37</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html"><div class="ttname"><a href="class_s_p_i___buttons.html">SPI_Buttons</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00035">SPIButtons.h:35</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a0ed9591c957520ee43805da609de337c"><div class="ttname"><a href="class_s_p_i___buttons.html#a0ed9591c957520ee43805da609de337c">SPI_Buttons::~SPI_Buttons</a></div><div class="ttdeci">virtual ~SPI_Buttons()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00074">SPIButtons.cpp:74</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a15ed17b9962ed432f792e01bdea5ab58"><div class="ttname"><a href="class_s_p_i___buttons.html#a15ed17b9962ed432f792e01bdea5ab58">SPI_Buttons::bytes</a></div><div class="ttdeci">uint8_t bytes</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00075">SPIButtons.h:75</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a170614c569dc4b74a6db5c650ca4866e"><div class="ttname"><a href="class_s_p_i___buttons.html#a170614c569dc4b74a6db5c650ca4866e">SPI_Buttons::command</a></div><div class="ttdeci">CommandStatus command(const ParsedCommand &amp;cmd, std::vector&lt; CommandReply &gt; &amp;replies) override</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00202">SPIButtons.cpp:202</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a1d7dc86d5952613c8d1109f5eb9226f6"><div class="ttname"><a href="class_s_p_i___buttons.html#a1d7dc86d5952613c8d1109f5eb9226f6">SPI_Buttons::setSpiSpeed</a></div><div class="ttdeci">void setSpiSpeed(uint8_t speedPreset)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00146">SPIButtons.cpp:146</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a2098748e99ef2f9a4943eb9c7f63dde4"><div class="ttname"><a href="class_s_p_i___buttons.html#a2098748e99ef2f9a4943eb9c7f63dde4">SPI_Buttons::speed_names</a></div><div class="ttdeci">static const std::vector&lt; std::string &gt; speed_names</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00043">SPIButtons.h:43</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a2b6fe19a8c4e3599d27d7bb19c48bc9e"><div class="ttname"><a href="class_s_p_i___buttons.html#a2b6fe19a8c4e3599d27d7bb19c48bc9e">SPI_Buttons::restoreFlash</a></div><div class="ttdeci">void restoreFlash()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00160">SPIButtons.cpp:160</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a32f543b1ac167aad78f0a430890eda63"><div class="ttname"><a href="class_s_p_i___buttons.html#a32f543b1ac167aad78f0a430890eda63">SPI_Buttons::setConfig</a></div><div class="ttdeci">void setConfig(ButtonSourceConfig config)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00097">SPIButtons.cpp:97</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a42c1de467af7f4ea51e454562cf97ec0"><div class="ttname"><a href="class_s_p_i___buttons.html#a42c1de467af7f4ea51e454562cf97ec0">SPI_Buttons::conf</a></div><div class="ttdeci">ButtonSourceConfig conf</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00079">SPIButtons.h:79</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a54da7710792a2b8e9a4422eb16d19924"><div class="ttname"><a href="class_s_p_i___buttons.html#a54da7710792a2b8e9a4422eb16d19924">SPI_Buttons::configuration_address</a></div><div class="ttdeci">uint16_t configuration_address</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00069">SPIButtons.h:69</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a59e775408090a55c5856ce8e86154504"><div class="ttname"><a href="class_s_p_i___buttons.html#a59e775408090a55c5856ce8e86154504">SPI_Buttons::getConfig</a></div><div class="ttdeci">virtual ButtonSourceConfig * getConfig()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00142">SPIButtons.cpp:142</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a5a7d7e0c01efa563e1c79df4d85cfd7e"><div class="ttname"><a href="class_s_p_i___buttons.html#a5a7d7e0c01efa563e1c79df4d85cfd7e">SPI_Buttons::SPI_Buttons</a></div><div class="ttdeci">SPI_Buttons(uint16_t configuration_address, uint16_t configuration_address_2)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00047">SPIButtons.cpp:47</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a793a929f29f6870ef2c6bf734489ed34"><div class="ttname"><a href="class_s_p_i___buttons.html#a793a929f29f6870ef2c6bf734489ed34">SPI_Buttons::speedPresets</a></div><div class="ttdeci">static constexpr std::array&lt; uint32_t, 3 &gt; speedPresets</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00083">SPIButtons.h:83</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a7b166405a295f20e14a18ac9ea180ee3"><div class="ttname"><a href="class_s_p_i___buttons.html#a7b166405a295f20e14a18ac9ea180ee3">SPI_Buttons::mask</a></div><div class="ttdeci">uint64_t mask</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00076">SPIButtons.h:76</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_a8f853d48ebf05c7d3c15968da53f1a33"><div class="ttname"><a href="class_s_p_i___buttons.html#a8f853d48ebf05c7d3c15968da53f1a33">SPI_Buttons::maxButtons</a></div><div class="ttdeci">const uint8_t maxButtons</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00056">SPIButtons.h:56</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aa0ba490beb122728be9141c9bef9bb01"><div class="ttname"><a href="class_s_p_i___buttons.html#aa0ba490beb122728be9141c9bef9bb01">SPI_Buttons::mode_names</a></div><div class="ttdeci">static const std::vector&lt; std::string &gt; mode_names</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00042">SPIButtons.h:42</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aa31ff80673aee01a5b3303316c9a47d0"><div class="ttname"><a href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0">SPI_Buttons::SPIButtons_commands</a></div><div class="ttdeci">SPIButtons_commands</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00037">SPIButtons.h:37</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aa31ff80673aee01a5b3303316c9a47d0a114ddfde19eb73d52d91a4a6f4d66adf"><div class="ttname"><a href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a114ddfde19eb73d52d91a4a6f4d66adf">SPI_Buttons::SPIButtons_commands::btncut</a></div><div class="ttdeci">@ btncut</div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aa31ff80673aee01a5b3303316c9a47d0a12083ead688b2c4ad360ff56c0f3122e"><div class="ttname"><a href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a12083ead688b2c4ad360ff56c0f3122e">SPI_Buttons::SPIButtons_commands::btnpol</a></div><div class="ttdeci">@ btnpol</div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aa31ff80673aee01a5b3303316c9a47d0a15d61712450a686a7f365adf4fef581f"><div class="ttname"><a href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a15d61712450a686a7f365adf4fef581f">SPI_Buttons::SPIButtons_commands::mode</a></div><div class="ttdeci">@ mode</div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aa31ff80673aee01a5b3303316c9a47d0a8f6247b8c4167035329ce85cb34db93f"><div class="ttname"><a href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a8f6247b8c4167035329ce85cb34db93f">SPI_Buttons::SPIButtons_commands::btnnum</a></div><div class="ttdeci">@ btnnum</div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aa31ff80673aee01a5b3303316c9a47d0a95cc64dd2825f9df13ec4ad683ecf339"><div class="ttname"><a href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0a95cc64dd2825f9df13ec4ad683ecf339">SPI_Buttons::SPIButtons_commands::cs</a></div><div class="ttdeci">@ cs</div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aa31ff80673aee01a5b3303316c9a47d0ad26e9a04169ae9ce1cd2393035b764f2"><div class="ttname"><a href="class_s_p_i___buttons.html#aa31ff80673aee01a5b3303316c9a47d0ad26e9a04169ae9ce1cd2393035b764f2">SPI_Buttons::SPIButtons_commands::spispeed</a></div><div class="ttdeci">@ spispeed</div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_aad159b15367d850ec9d33f911cab9a04"><div class="ttname"><a href="class_s_p_i___buttons.html#aad159b15367d850ec9d33f911cab9a04">SPI_Buttons::saveFlash</a></div><div class="ttdeci">void saveFlash()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00153">SPIButtons.cpp:153</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_ab20d366e1a73beed86dab7b7f36b8190"><div class="ttname"><a href="class_s_p_i___buttons.html#ab20d366e1a73beed86dab7b7f36b8190">SPI_Buttons::configuration_address_2</a></div><div class="ttdeci">uint16_t configuration_address_2</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00070">SPIButtons.h:70</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_ab2263cd0b2bedb1abebffb841bb0375a"><div class="ttname"><a href="class_s_p_i___buttons.html#ab2263cd0b2bedb1abebffb841bb0375a">SPI_Buttons::initSPI</a></div><div class="ttdeci">void initSPI()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00068">SPIButtons.cpp:68</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_ab704f113763fb43969613c2126c9b6c6"><div class="ttname"><a href="class_s_p_i___buttons.html#ab704f113763fb43969613c2126c9b6c6">SPI_Buttons::ready</a></div><div class="ttdeci">bool ready</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00071">SPIButtons.h:71</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_abb61a708255758691e315e9b81353e7f"><div class="ttname"><a href="class_s_p_i___buttons.html#abb61a708255758691e315e9b81353e7f">SPI_Buttons::setMode</a></div><div class="ttdeci">void setMode(SPI_BtnMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00092">SPIButtons.cpp:92</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_ad0be4286115c8ea9459eaeaa89a093be"><div class="ttname"><a href="class_s_p_i___buttons.html#ad0be4286115c8ea9459eaeaa89a093be">SPI_Buttons::printModes</a></div><div class="ttdeci">std::string printModes(const std::vector&lt; std::string &gt; &amp;names)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00194">SPIButtons.cpp:194</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_ad0c723f669d9c82d3923d51e8bfa95ee"><div class="ttname"><a href="class_s_p_i___buttons.html#ad0c723f669d9c82d3923d51e8bfa95ee">SPI_Buttons::offset</a></div><div class="ttdeci">uint8_t offset</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00077">SPIButtons.h:77</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_ad2224c86ee588e5c5fafe26cea399fe6"><div class="ttname"><a href="class_s_p_i___buttons.html#ad2224c86ee588e5c5fafe26cea399fe6">SPI_Buttons::registerCommands</a></div><div class="ttdeci">void registerCommands()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00079">SPIButtons.cpp:79</a></div></div>
<div class="ttc" id="aclass_s_p_i___buttons_html_ae84b99b26196f51aafca8a993e109bd4"><div class="ttname"><a href="class_s_p_i___buttons.html#ae84b99b26196f51aafca8a993e109bd4">SPI_Buttons::process</a></div><div class="ttdeci">void process(uint64_t *buf)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8cpp_source.html#l00167">SPIButtons.cpp:167</a></div></div>
<div class="ttc" id="aclass_s_p_i_device_html"><div class="ttname"><a href="class_s_p_i_device.html">SPIDevice</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00100">SPI.h:100</a></div></div>
<div class="ttc" id="aclass_s_p_i_device_html_a1e73b78c5520e56b2786132a2537ba20"><div class="ttname"><a href="class_s_p_i_device.html#a1e73b78c5520e56b2786132a2537ba20">SPIDevice::spiPort</a></div><div class="ttdeci">SPIPort &amp; spiPort</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00124">SPI.h:124</a></div></div>
<div class="ttc" id="aclass_s_p_i_device_html_aaa895255e7199bedc48a3db0214c8b02"><div class="ttname"><a href="class_s_p_i_device.html#aaa895255e7199bedc48a3db0214c8b02">SPIDevice::spiConfig</a></div><div class="ttdeci">SPIConfig spiConfig</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00125">SPI.h:125</a></div></div>
<div class="ttc" id="aclass_s_p_i_port_html_a1109e42c8e5889df7f0e345713279a01"><div class="ttname"><a href="class_s_p_i_port.html#a1109e42c8e5889df7f0e345713279a01">SPIPort::hasFreePins</a></div><div class="ttdeci">bool hasFreePins()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8cpp_source.html#l00220">SPI.cpp:220</a></div></div>
<div class="ttc" id="aclass_s_p_i_port_html_a2f4057e9c8d04aec84bd88c70b78623b"><div class="ttname"><a href="class_s_p_i_port.html#a2f4057e9c8d04aec84bd88c70b78623b">SPIPort::takeSemaphore</a></div><div class="ttdeci">void takeSemaphore()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8cpp_source.html#l00186">SPI.cpp:186</a></div></div>
<div class="ttc" id="aclass_s_p_i_port_html_a366371988c4ac9b1904dd318e1fd6fdf"><div class="ttname"><a href="class_s_p_i_port.html#a366371988c4ac9b1904dd318e1fd6fdf">SPIPort::reserveCsPin</a></div><div class="ttdeci">bool reserveCsPin(OutputPin pin)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8cpp_source.html#l00025">SPI.cpp:25</a></div></div>
<div class="ttc" id="aclass_s_p_i_port_html_a9b00f63efcf238d91eb3748c6c378bd0"><div class="ttname"><a href="class_s_p_i_port.html#a9b00f63efcf238d91eb3748c6c378bd0">SPIPort::getCsPin</a></div><div class="ttdeci">OutputPin * getCsPin(uint16_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8cpp_source.html#l00065">SPI.cpp:65</a></div></div>
<div class="ttc" id="aclass_s_p_i_port_html_abfb00731e34be961162c814837c37531"><div class="ttname"><a href="class_s_p_i_port.html#abfb00731e34be961162c814837c37531">SPIPort::configurePort</a></div><div class="ttdeci">void configurePort(SPI_InitTypeDef *config)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8cpp_source.html#l00072">SPI.cpp:72</a></div></div>
<div class="ttc" id="aclass_s_p_i_port_html_ac3feeaf8dffc219625567c0aa0789d3a"><div class="ttname"><a href="class_s_p_i_port.html#ac3feeaf8dffc219625567c0aa0789d3a">SPIPort::giveSemaphore</a></div><div class="ttdeci">void giveSemaphore()</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8cpp_source.html#l00199">SPI.cpp:199</a></div></div>
<div class="ttc" id="aclass_s_p_i_port_html_ac88f07b2b363e23124e5ac37c4c7465c"><div class="ttname"><a href="class_s_p_i_port.html#ac88f07b2b363e23124e5ac37c4c7465c">SPIPort::freeCsPin</a></div><div class="ttdeci">bool freeCsPin(OutputPin pin)</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8cpp_source.html#l00037">SPI.cpp:37</a></div></div>
<div class="ttc" id="aconstants_8h_html"><div class="ttname"><a href="constants_8h.html">constants.h</a></div></div>
<div class="ttc" id="acpp__target__config_8h_html_a150538f2cab0ebfcc238375cb19eca68"><div class="ttname"><a href="cpp__target__config_8h.html#a150538f2cab0ebfcc238375cb19eca68">external_spi</a></div><div class="ttdeci">SPIPort external_spi</div></div>
<div class="ttc" id="aeeprom__addresses_8h_html"><div class="ttname"><a href="eeprom__addresses_8h.html">eeprom_addresses.h</a></div></div>
<div class="ttc" id="aflash__helpers_8h_html_a2bbff9e686544cb0f673cf4e3f948592"><div class="ttname"><a href="flash__helpers_8h.html#a2bbff9e686544cb0f673cf4e3f948592">Flash_ReadDefault</a></div><div class="ttdeci">TVal Flash_ReadDefault(uint16_t adr, TVal def)</div><div class="ttdef"><b>Definition:</b> <a href="flash__helpers_8h_source.html#l00036">flash_helpers.h:36</a></div></div>
<div class="ttc" id="aflash__helpers_8h_html_a6b6e0bc4883e99737cddcaa2594fa5ba"><div class="ttname"><a href="flash__helpers_8h.html#a6b6e0bc4883e99737cddcaa2594fa5ba">Flash_Write</a></div><div class="ttdeci">bool Flash_Write(uint16_t adr, uint16_t dat)</div><div class="ttdef"><b>Definition:</b> <a href="flash__helpers_8cpp_source.html#l00112">flash_helpers.cpp:112</a></div></div>
<div class="ttc" id="aringbuffer_8c_html_a312c830a38a9a98c93c96547376d5835"><div class="ttname"><a href="ringbuffer_8c.html#a312c830a38a9a98c93c96547376d5835">memcpy</a></div><div class="ttdeci">static void * memcpy(void *dst, const void *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8c_source.html#l00008">ringbuffer.c:8</a></div></div>
<div class="ttc" id="astruct_button_source_config_html"><div class="ttname"><a href="struct_button_source_config.html">ButtonSourceConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00025">SPIButtons.h:25</a></div></div>
<div class="ttc" id="astruct_button_source_config_html_a8efe3c209df2ea819f90a231d8635a3a"><div class="ttname"><a href="struct_button_source_config.html#a8efe3c209df2ea819f90a231d8635a3a">ButtonSourceConfig::invert</a></div><div class="ttdeci">bool invert</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00028">SPIButtons.h:28</a></div></div>
<div class="ttc" id="astruct_button_source_config_html_a8f222d06574c71cb2ebae9aa593005e7"><div class="ttname"><a href="struct_button_source_config.html#a8f222d06574c71cb2ebae9aa593005e7">ButtonSourceConfig::mode</a></div><div class="ttdeci">SPI_BtnMode mode</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00029">SPIButtons.h:29</a></div></div>
<div class="ttc" id="astruct_button_source_config_html_a9e8ffb23de4b2d4bdbfc292e54ee4968"><div class="ttname"><a href="struct_button_source_config.html#a9e8ffb23de4b2d4bdbfc292e54ee4968">ButtonSourceConfig::spi_speed</a></div><div class="ttdeci">uint8_t spi_speed</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00031">SPIButtons.h:31</a></div></div>
<div class="ttc" id="astruct_button_source_config_html_ab20cf085e56d356b8702303bb7507a49"><div class="ttname"><a href="struct_button_source_config.html#ab20cf085e56d356b8702303bb7507a49">ButtonSourceConfig::cs_num</a></div><div class="ttdeci">uint8_t cs_num</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00030">SPIButtons.h:30</a></div></div>
<div class="ttc" id="astruct_button_source_config_html_ad699998fb08e317cee1e43d6f2a8392d"><div class="ttname"><a href="struct_button_source_config.html#ad699998fb08e317cee1e43d6f2a8392d">ButtonSourceConfig::cutRight</a></div><div class="ttdeci">bool cutRight</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00027">SPIButtons.h:27</a></div></div>
<div class="ttc" id="astruct_button_source_config_html_ae8da3bffd19fef31ef35c21c2c4292bf"><div class="ttname"><a href="struct_button_source_config.html#ae8da3bffd19fef31ef35c21c2c4292bf">ButtonSourceConfig::numButtons</a></div><div class="ttdeci">uint8_t numButtons</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_buttons_8h_source.html#l00026">SPIButtons.h:26</a></div></div>
<div class="ttc" id="astruct_class_identifier_html"><div class="ttname"><a href="struct_class_identifier.html">ClassIdentifier</a></div><div class="ttdef"><b>Definition:</b> <a href="_choosable_class_8h_source.html#l00015">ChoosableClass.h:15</a></div></div>
<div class="ttc" id="astruct_class_identifier_html_a18a69ed3b7a10bfc83c083b318f77209"><div class="ttname"><a href="struct_class_identifier.html#a18a69ed3b7a10bfc83c083b318f77209">ClassIdentifier::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="_choosable_class_8h_source.html#l00016">ChoosableClass.h:16</a></div></div>
<div class="ttc" id="astruct_parsed_command_html"><div class="ttname"><a href="struct_parsed_command.html">ParsedCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8h_source.html#l00066">CommandHandler.h:67</a></div></div>
<div class="ttc" id="astruct_parsed_command_html_a42627bfc4fd1bd889872a05ef7417e77"><div class="ttname"><a href="struct_parsed_command.html#a42627bfc4fd1bd889872a05ef7417e77">ParsedCommand::type</a></div><div class="ttdeci">CMDtype type</div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8h_source.html#l00073">CommandHandler.h:73</a></div></div>
<div class="ttc" id="astruct_parsed_command_html_a74453a0cc1ccf42709bafd7e69573c83"><div class="ttname"><a href="struct_parsed_command.html#a74453a0cc1ccf42709bafd7e69573c83">ParsedCommand::val</a></div><div class="ttdeci">int64_t val</div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8h_source.html#l00070">CommandHandler.h:70</a></div></div>
<div class="ttc" id="astruct_parsed_command_html_aa84671f243e74af9c09290d3c8412b29"><div class="ttname"><a href="struct_parsed_command.html#aa84671f243e74af9c09290d3c8412b29">ParsedCommand::cmdId</a></div><div class="ttdeci">uint32_t cmdId</div><div class="ttdef"><b>Definition:</b> <a href="_command_handler_8h_source.html#l00068">CommandHandler.h:68</a></div></div>
<div class="ttc" id="astruct_s_p_i_config_html_a0b9caa453c651575cb73d2bc5de6af74"><div class="ttname"><a href="struct_s_p_i_config.html#a0b9caa453c651575cb73d2bc5de6af74">SPIConfig::peripheral</a></div><div class="ttdeci">SPI_InitTypeDef peripheral</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00038">SPI.h:38</a></div></div>
<div class="ttc" id="astruct_s_p_i_config_html_a4b72b0c97f8586beb28a2b1f1df43fb5"><div class="ttname"><a href="struct_s_p_i_config.html#a4b72b0c97f8586beb28a2b1f1df43fb5">SPIConfig::cs</a></div><div class="ttdeci">OutputPin cs</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00034">SPI.h:34</a></div></div>
<div class="ttc" id="astruct_s_p_i_config_html_ab69a228509b6d4fc7550d905cefa311b"><div class="ttname"><a href="struct_s_p_i_config.html#ab69a228509b6d4fc7550d905cefa311b">SPIConfig::cspol</a></div><div class="ttdeci">bool cspol</div><div class="ttdoc">CSPOL=true === active low.</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00037">SPI.h:37</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_74b6a3b63f61c160c0f14b7a283a4c9b.html">Firmware</a></li><li class="navelem"><a class="el" href="dir_73f408912d732fbde132456af6532957.html">FFBoard</a></li><li class="navelem"><a class="el" href="dir_27c022b25dc9971c3dd455d6e205947f.html">UserExtensions</a></li><li class="navelem"><a class="el" href="dir_ff96e0686d1d56ad07781eedce3f77eb.html">Src</a></li><li class="navelem"><a class="el" href="_s_p_i_buttons_8cpp.html">SPIButtons.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
